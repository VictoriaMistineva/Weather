{"ast":null,"code":"var _jsxFileName = \"/home/zelairy/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/weather-app/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport LocationBox from \"./components/location/location\";\nimport TemperatureAndWeather from \"./components/temp/temp\";\nimport { backgroundStyleByTemp } from \"./components/background/background\";\nimport Clothes from \"./components/clothes/clothes\";\nimport { loadGoogleScript } from './lib/GoogleLogin';\nconst googleClientId = \"919987767854-v7s232d6ucjlisc0und3m8ik8n13jkgb.apps.googleusercontent.com\";\nconst api = {\n  key: \"25521e44d3e70320abb96685b57352e9\",\n  base: \"https://api.openweathermap.org/data/2.5/\"\n};\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [weather, setWeather] = useState({});\n  const [gapi, setGapi] = useState();\n  const [googleAuth, setGoogleAuth] = useState();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [setName] = useState('');\n  const [setEmail] = useState('');\n  const [setImageUrl] = useState();\n\n  const onSuccess = googleUser => {\n    setIsLoggedIn(true);\n    const profile = googleUser.getBasicProfile();\n    setName(profile.getName());\n    setEmail(profile.getEmail());\n    setImageUrl(profile.getImageUrl());\n  };\n\n  const onFailure = () => {\n    setIsLoggedIn(false);\n  };\n\n  const logOut = () => {\n    (async () => {\n      await googleAuth.signOut();\n      setIsLoggedIn(false);\n      renderSigninButton(gapi);\n    })();\n  };\n\n  const renderSigninButton = _gapi => {\n    _gapi.signin2.render('google-signin', {\n      'scope': 'profile email',\n      'width': 240,\n      'height': 50,\n      'longtitle': true,\n      'theme': 'dark',\n      'onsuccess': onSuccess,\n      'onfailure': onFailure\n    });\n  };\n\n  useEffect(() => {\n    //window.gapi is available at this point\n    window.onGoogleScriptLoad = () => {\n      const _gapi = window.gapi;\n      setGapi(_gapi);\n\n      _gapi.load('auth2', () => {\n        (async () => {\n          const _googleAuth = await _gapi.auth2.init({\n            client_id: googleClientId\n          });\n\n          setGoogleAuth(_googleAuth);\n        })();\n      });\n    }; //ensure everything is set before loading the script\n\n\n    loadGoogleScript();\n  }, []);\n\n  const search = evt => {\n    if (evt.key === \"Enter\") {\n      fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`).then(res => res.json()).then(result => {\n        setWeather(result);\n        setQuery('');\n        console.log(result);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 5\n    }\n  }, !isLoggedIn && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-screen-cover\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-screen-text-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"login-screen-heading-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login-screen-heading-primary-main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Clothing recommendation\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"login-screen-heading-primary-sub\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, \"depending on the weather\")), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"google-signin\",\n    className: \"google-sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }))), isLoggedIn && /*#__PURE__*/React.createElement(\"div\", {\n    className: backgroundStyleByTemp(weather.main),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    className: \"search-bar\",\n    placeholder: \"\\u0421ity search..\",\n    onChange: e => setQuery(e.target.value),\n    value: query,\n    onKeyPress: search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    id: \"login\",\n    className: \"button blue\",\n    onClick: logOut,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-unlock\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \"Log Out\")))), typeof weather.main != \"undefined\" ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"case\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LocationBox, {\n    weather: weather,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TemperatureAndWeather, {\n    weather: weather,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Clothes, {\n    weather: weather,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  })) : '')));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/zelairy/Рабочий стол/weather-app/src/App.js"],"names":["React","useState","useEffect","LocationBox","TemperatureAndWeather","backgroundStyleByTemp","Clothes","loadGoogleScript","googleClientId","api","key","base","App","query","setQuery","weather","setWeather","gapi","setGapi","googleAuth","setGoogleAuth","isLoggedIn","setIsLoggedIn","setName","setEmail","setImageUrl","onSuccess","googleUser","profile","getBasicProfile","getName","getEmail","getImageUrl","onFailure","logOut","signOut","renderSigninButton","_gapi","signin2","render","window","onGoogleScriptLoad","load","_googleAuth","auth2","init","client_id","search","evt","fetch","then","res","json","result","console","log","main","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport LocationBox from \"./components/location/location\";\nimport TemperatureAndWeather from \"./components/temp/temp\";\nimport {backgroundStyleByTemp} from \"./components/background/background\";\nimport Clothes from \"./components/clothes/clothes\";\nimport { loadGoogleScript } from './lib/GoogleLogin';\nconst googleClientId = \"919987767854-v7s232d6ucjlisc0und3m8ik8n13jkgb.apps.googleusercontent.com\";\n\n\n\nconst api = {\n  key: \"25521e44d3e70320abb96685b57352e9\",\n  base: \"https://api.openweathermap.org/data/2.5/\"\n}\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [weather, setWeather] = useState({});\n  const [gapi, setGapi] = useState();\n  const [googleAuth, setGoogleAuth] = useState();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [setName] = useState('');\n  const [setEmail] = useState('');\n  const [setImageUrl] = useState();\n\n  const onSuccess = (googleUser) => {\n    setIsLoggedIn(true);\n    const profile = googleUser.getBasicProfile();\n    setName(profile.getName());\n    setEmail(profile.getEmail());\n    setImageUrl(profile.getImageUrl());\n  };\n\n  const onFailure = () => {\n    setIsLoggedIn(false);\n  }\n\n  const logOut = () => {\n    (async() => {\n      await googleAuth.signOut();\n      setIsLoggedIn(false);\n      renderSigninButton(gapi);\n    })();\n  };\n\n  const renderSigninButton = (_gapi) => {\n    _gapi.signin2.render('google-signin', {\n      'scope': 'profile email',\n      'width': 240,\n      'height': 50,\n      'longtitle': true,\n      'theme': 'dark',\n      'onsuccess': onSuccess,\n      'onfailure': onFailure\n    });\n  }\n\n  useEffect(() => {\n\n    //window.gapi is available at this point\n    window.onGoogleScriptLoad = () => {\n\n      const _gapi = window.gapi;\n      setGapi(_gapi);\n\n      _gapi.load('auth2', () => {\n        (async () => {\n          const _googleAuth = await _gapi.auth2.init({\n            client_id: googleClientId\n          });\n          setGoogleAuth(_googleAuth);\n        })();\n      });\n    }\n\n    //ensure everything is set before loading the script\n    loadGoogleScript();\n\n  }, []);\n\n\n  const search = evt => {\n    if (evt.key === \"Enter\") {\n      fetch(`${api.base}weather?q=${query}&units=metric&APPID=${api.key}`)\n        .then(res => res.json())\n        .then(result => {\n          setWeather(result);\n          setQuery('');\n          console.log(result);\n        });\n    }\n  }\n\n  return (\n    <div>\n        {!isLoggedIn &&\n          <div className=\"login-screen-cover\">\n\n            <div className=\"login-screen-text-box\">\n              <h1 className=\"login-screen-heading-primary\">\n                <span className=\"login-screen-heading-primary-main\">Clothing recommendation</span>\n                <span className=\"login-screen-heading-primary-sub\">depending on the weather</span>\n              </h1>\n              <div id=\"google-signin\"  className='google-sign'>\n              </div>\n            </div>\n          </div>\n        }\n        {isLoggedIn &&\n          <div\n          className={(backgroundStyleByTemp(weather.main))}>\n            <main>\n              <div>\n                <div className=\"search-box\">\n                  <input\n                    type=\"text\"\n                    className=\"search-bar\"\n                    placeholder=\"Сity search..\"\n                    onChange={e => setQuery(e.target.value)}\n                    value={query}\n                    onKeyPress={search}\n                  />\n                  <button id=\"login\" className=\"button blue\" onClick={logOut}>\n                    <i className=\"fa fa-unlock\"></i>\n                    <span>Log Out</span>\n                  </button>\n                </div>\n              </div>\n\n        {(typeof weather.main != \"undefined\") ? (\n          <div className=\"case\">\n        {/*локация кейсs*/}\n          <LocationBox  weather = {weather}/>\n        {/*температура*/}\n          <TemperatureAndWeather weather = {weather}/>\n        {/*одежда*/}\n          <Clothes weather = {weather}/>\n          </div>\n          ) : ('')}\n          </main>\n          </div>\n        }\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}